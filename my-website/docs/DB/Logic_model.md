---
title: Логическая модель БД
sidebar_position: 1
---

# Логическая модель данных

Представлена логическая модель:

``` plantuml
@startuml

entity "организация" {
* id_организации <<PK>>
* название
* описание
* сайт
* email
* телефон
}

entity "волонтер" {
* id_волонтера <<PK>>
* фамилия
* имя
* отчество
* email
* телефон
}

entity "заявка" {
* id_заявки <<PK>>
* заголовок
* id_организации <<FK>>
* обязанности
* дата_начала
* дата_окончания
* макс_количество_волонтеров
* id_статуса_заявки <<FK>>
* текущее_количество_волонтеров
}

entity "статус_заявки" {
* id_статуса_заявки <<PK>>
* название
}

entity "активности" {
* id_активности <<PK>>
* название
}

entity "связь_активностей_и_пользователей" {
* id <<PK>>
* тип_объекта
* id_объекта <<FK>>
* id_активности <<FK>>
}

entity "связь_адресов_и_пользователей" {
* id <<PK>>
* тип_объекта
* id_объекта <<FK>>
* адрес
}

entity "временные_интервалы_волонтеров" {
* id <<PK>>
* id_волонтера <<FK>>
* время_начала
* время_окончания
* день_недели
}

entity "волонтеры_по_заявке" {
* id <<PK>>
* id_заявки <<FK>>
* id_волонтера <<FK>>
* статус_волонтера
* посещаемость
}

entity "статус_волонтера" {
* id_статуса_волонтера <<PK>>
* название
}

entity "история_изменений" {
* id <<PK>>
* id строки из таблицы "волонтеры по заявке" <<FK>>
* старый_статус <<FK>>
* новый_статус <<FK>>
* время_изменения
}

' Определение связей между сущностями

"организация" ||--o{ "заявка" : "создает"

"волонтер" ||--o{ "волонтеры_по_заявке" : "участвует в"

"заявка" ||--o{ "волонтеры_по_заявке" : "имеет"

"волонтер" ||--o{ "временные_интервалы_волонтеров" : "имеет"

"волонтер" ||--o{ "связь_активностей_и_пользователей" : "имеет"

"организация" ||--o{ "связь_активностей_и_пользователей" : "имеет"

"активности" ||--o{ "связь_активностей_и_пользователей" : ""

"волонтер" ||--o{ "связь_адресов_и_пользователей" : "имеет"

"организация" ||--o{ "связь_адресов_и_пользователей" : "имеет"

"заявка" ||--o{ "статус_заявки" : "имеет"

"волонтеры_по_заявке" ||--o{ "статус_волонтера" : "имеет"

"волонтеры_по_заявке" ||--o{ "история_изменений" : "имеет"

"история_изменений" ||--o{ "статус_волонтера" : "имеет"

@enduml

```